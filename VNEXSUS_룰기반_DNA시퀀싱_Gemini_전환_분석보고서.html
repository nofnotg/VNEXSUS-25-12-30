<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧬 VNEXSUS 룰기반 → Gemini 2.5 Flash 전환 분석 보고서</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        .section h4 {
            color: #5a6c7d;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .highlight {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }

        .process-flow {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .process-step {
            flex: 1;
            min-width: 200px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            position: relative;
        }

        .process-step::after {
            content: '→';
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #667eea;
        }

        .process-step:last-child::after {
            display: none;
        }

        .rule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .rule-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .rule-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }

        .rule-table tr:hover {
            background: #f8f9fa;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .metric-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .prompt-box {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            position: relative;
        }

        .prompt-box::before {
            content: '🤖 Gemini 2.5 Flash 프롬프트';
            position: absolute;
            top: -12px;
            left: 20px;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .api-config {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #856404;
        }

        .success {
            background: #d4edda;
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #155724;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: #e9ecef;
            cursor: pointer;
            border: none;
            font-size: 1em;
            font-weight: bold;
            color: #495057;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: #667eea;
            color: white;
        }

        .tab-content {
            background: white;
            padding: 25px;
            border-radius: 0 0 10px 10px;
            border: 2px solid #667eea;
            border-top: none;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #dee2e6;
        }

        .comparison-card.current {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .comparison-card.target {
            background: #d4edda;
            border-color: #28a745;
        }

        .footer {
            text-align: center;
            padding: 30px;
            color: white;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .process-flow {
                flex-direction: column;
            }
            
            .process-step::after {
                display: none;
            }
            
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧬 VNEXSUS 룰기반 → Gemini 2.5 Flash 전환 분석 보고서</h1>
            <p><strong>의료문서 DNA 시퀀싱 시스템의 AI 모델 전환 전략</strong></p>
            <p>생성일: 2025년 1월 27일 | 버전: v1.0</p>
        </div>

        <!-- 1. 현재 시스템 분석 -->
        <div class="section">
            <h2>📊 1. 현재 VNEXSUS 룰기반 시스템 분석</h2>
            
            <h3>🧬 DNA 시퀀싱 핵심 원리</h3>
            <div class="process-flow">
                <div class="process-step">
                    <h4>1단계</h4>
                    <p>유전자 추출<br>(Gene Extraction)</p>
                </div>
                <div class="process-step">
                    <h4>2단계</h4>
                    <p>속성 분석<br>(Attribute Analysis)</p>
                </div>
                <div class="process-step">
                    <h4>3단계</h4>
                    <p>네트워크 구축<br>(Network Building)</p>
                </div>
                <div class="process-step">
                    <h4>4단계</h4>
                    <p>진화 학습<br>(Evolutionary Learning)</p>
                </div>
            </div>

            <h3>🔧 주요 룰 처리 모듈</h3>
            <table class="rule-table">
                <thead>
                    <tr>
                        <th>모듈명</th>
                        <th>기능</th>
                        <th>처리 방식</th>
                        <th>신뢰도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="highlight">geneExtractor.js</span></td>
                        <td>의료 텍스트를 의미 있는 최소 단위로 분할</td>
                        <td>GPT-4o 기반 프롬프트</td>
                        <td>90%+</td>
                    </tr>
                    <tr>
                        <td><span class="highlight">enhancedDateAnchor.js</span></td>
                        <td>Dual-Sweep 날짜-데이터 연결</td>
                        <td>패턴 매칭 + 충돌 해결</td>
                        <td>95%+</td>
                    </tr>
                    <tr>
                        <td><span class="highlight">causalNetworkBuilder.js</span></td>
                        <td>의료 사건 간 인과관계 네트워크 구축</td>
                        <td>의학적 논리 규칙 + 가중치</td>
                        <td>85%+</td>
                    </tr>
                    <tr>
                        <td><span class="highlight">confidencePipeline.js</span></td>
                        <td>통합 신뢰도 계산</td>
                        <td>다차원 요소 가중 평균</td>
                        <td>91%+</td>
                    </tr>
                    <tr>
                        <td><span class="highlight">textFilter.ts</span></td>
                        <td>의료 텍스트 필터링 및 태깅</td>
                        <td>룰 기반 소거/보존 로직</td>
                        <td>88%+</td>
                    </tr>
                </tbody>
            </table>

            <h3>📋 룰 기반 처리 순서</h3>
            <div class="code-block">
1. OCR 텍스트 입력 → 전처리 (불필요 문자 제거, 정규화)
2. DNA 유전자 추출 → 의미 단위 분할 + 앵커 정보 추출
3. Date-Data Anchoring → Dual-Sweep 날짜 연결 + 충돌 해결
4. 텍스트 필터링 → 보존/제거/조건부 카테고리 적용
5. 인과관계 네트워크 구축 → 의료 논리 기반 관계 매핑
6. 신뢰도 계산 → 통합 파이프라인 점수 산출
7. 9항목 보고서 생성 → 표준 손해사정 양식 출력
            </div>

            <h3>🎯 현재 시스템 성능 지표</h3>
            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value">90%</div>
                    <div class="metric-label">유전자 추출 정확도</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">95%</div>
                    <div class="metric-label">날짜 연결 정확도</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">85%</div>
                    <div class="metric-label">인과관계 식별률</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">3분</div>
                    <div class="metric-label">평균 처리 시간</div>
                </div>
            </div>
        </div>

        <!-- 2. 룰 기반 로직 상세 분석 -->
        <div class="section">
            <h2>🔍 2. 룰 기반 로직 상세 분석</h2>

            <div class="tabs">
                <button class="tab active" onclick="showTab('filtering')">텍스트 필터링</button>
                <button class="tab" onclick="showTab('anchoring')">날짜 앵커링</button>
                <button class="tab" onclick="showTab('networking')">인과관계 네트워크</button>
                <button class="tab" onclick="showTab('confidence')">신뢰도 계산</button>
            </div>

            <div id="filtering" class="tab-content">
                <h3>📝 텍스트 필터링 룰</h3>
                <h4>보존 카테고리 (retain_categories_total.json)</h4>
                <div class="code-block">
• 감염성 및 기생충성 질환 (A00-B99)
• 임신, 출산 및 산후기 합병증 (O00-O99)
• 출생전후기 병태 (P00-P96)
• 선천 기형, 변형 및 염색체 이상 (Q00-Q99)
• 손상, 중독 및 외인 (S00-T98)
• 주요 시술 및 처치
• 상태 및 인공 삽입물 관련
• 기타 주요 내원 정보
• 신종 질환 및 특수 상황
                </div>

                <h4>제거 카테고리 (removal_categories_total.json)</h4>
                <div class="code-block">
• 개인 식별 정보 (주민번호, 전화번호, 주소)
• 비의료 개인 정보 (직업, 종교, 취미)
• 행정 정보 (수납, 예약, 대기)
• 경미하며 자기 제한적인 상태
• 이상 소견 없는 정기 검진
• 미용 목적 시술
• 청구 비관련 상담
• 한의 범주 (한약, 침술, 부항)
• 비급여 행정 목적 내원
• 꾀병 및 의도적 허위 신고
                </div>

                <h4>조건부 제거 카테고리 (conditional_removal_total.txt)</h4>
                <div class="code-block">
• 증상, 징후 및 이상 소견 → 명확한 진단 없을 시 제거
• 질병 이환 및 사망의 외인 → 직접적 손상 없을 시 제거
• 만성 질환 정보 → 급성 악화 없을 시 제거
• 예방적 의료 서비스 → 이상 소견 없을 시 제거
• 치과 치료 → 외상성 아닐 시 제거
• 정상 임신/출산 관련 정보 → 합병증 없을 시 제거
                </div>
            </div>

            <div id="anchoring" class="tab-content" style="display: none;">
                <h3>📅 Enhanced Date-Data Anchoring</h3>
                <h4>Dual-Sweep 알고리즘</h4>
                <div class="code-block">
// Forward Sweep (순방향 분석)
1. 절대 날짜 패턴 탐지 (YYYY-MM-DD, YYYY년 MM월 DD일)
2. 상대 날짜 패턴 탐지 (N일 전, N주 후, 최근, 지난)
3. 의료 맥락 특화 패턴 (진료일, 수술일, 처방일)
4. 기간 패턴 탐지 (N일간, 부터~까지)

// Backward Sweep (역방향 분석)
1. 텍스트 끝에서 시작하여 역순 탐지
2. 문맥상 누락된 날짜 추론
3. 암시적 시간 관계 파악

// Conflict Resolution (충돌 해결)
1. 시간적 논리 검증 (미래 30일, 과거 10년 제한)
2. 의료 맥락 우선순위 적용
3. 신뢰도 기반 최종 선택
                </div>

                <h4>날짜 패턴 우선순위</h4>
                <table class="rule-table">
                    <tr><th>패턴 유형</th><th>신뢰도</th><th>우선순위</th></tr>
                    <tr><td>절대 날짜 (YYYY-MM-DD)</td><td>95%</td><td>100</td></tr>
                    <tr><td>의료 맥락 특화</td><td>85%</td><td>90</td></tr>
                    <tr><td>기간 패턴</td><td>75%</td><td>80</td></tr>
                    <tr><td>상대 날짜</td><td>80%</td><td>70</td></tr>
                </table>
            </div>

            <div id="networking" class="tab-content" style="display: none;">
                <h3>🔗 인과관계 네트워크 구축</h3>
                <h4>의료 인과관계 패턴</h4>
                <div class="code-block">
// 진단 → 치료 패턴 (신뢰도: 90%)
triggers: ['진단', '병명', '질환', '증후군']
effects: ['처방', '치료', '투약', '수술', '시술']
timeWindow: 30일

// 증상 → 진단 패턴 (신뢰도: 80%)
triggers: ['증상', '호소', '불편감', '통증', '발열']
effects: ['진단', '소견', '판정', '의심']
timeWindow: 7일

// 치료 → 검사 패턴 (신뢰도: 85%)
triggers: ['처방', '치료', '수술', '투약']
effects: ['검사', '추적', '관찰', '모니터링']
timeWindow: 90일

// 부작용 → 치료 변경 패턴 (신뢰도: 95%)
triggers: ['부작용', '이상반응', '알레르기', '독성']
effects: ['중단', '변경', '대체', '조정']
timeWindow: 3일
                </div>

                <h4>인과관계 강도 가중치</h4>
                <table class="rule-table">
                    <tr><th>요소</th><th>가중치</th><th>설명</th></tr>
                    <tr><td>시간적 순서</td><td>40%</td><td>사건 발생 순서의 논리성</td></tr>
                    <tr><td>의학적 논리</td><td>30%</td><td>의학적 인과관계 타당성</td></tr>
                    <tr><td>의미적 유사성</td><td>20%</td><td>텍스트 의미 연관성</td></tr>
                    <tr><td>빈도 기반</td><td>10%</td><td>패턴 출현 빈도</td></tr>
                </table>
            </div>

            <div id="confidence" class="tab-content" style="display: none;">
                <h3>📊 통합 신뢰도 계산</h3>
                <h4>신뢰도 계산 요소</h4>
                <div class="code-block">
// 통합 신뢰도 = 가중 평균
confidence = (
    textClarity * 0.3 +      // 텍스트 명확성
    contextStrength * 0.25 +  // 문맥 강도
    positionWeight * 0.2 +    // 위치 가중치
    evidenceSpan * 0.25       // 근거 범위
)

// 텍스트 명확성 평가
- 길이 적정성 (10-200자: +0.2점)
- 의료 키워드 포함도 (최대 +0.2점)
- 날짜 패턴 포함 (+0.1점)

// 문맥 강도 평가
- 주변 유전자 연관성 (최대 +0.3점)
- 날짜 앵커 연관성 (최대 +0.2점)
- 의료 문맥 일치도 (최대 +0.2점)

// 신뢰도 등급
- 높음: 0.85 이상
- 중간: 0.65 - 0.85
- 낮음: 0.45 - 0.65
                </div>
            </div>
        </div>

        <!-- 3. Gemini 2.5 Flash 프롬프트 설계 -->
        <div class="section">
            <h2>🤖 3. Gemini 2.5 Flash 통합 프롬프트 설계</h2>

            <div class="api-config">
                <h3>🔑 Gemini API 설정</h3>
                <div class="code-block">
API Key: AIzaSyA19S8YDVLfgECS7CEI_x-VG5lckWwffrU
Model: gemini-2.5-flash
Max Tokens: 8192
Temperature: 0.1 (정확성 우선)
Top-P: 0.8
                </div>
            </div>

            <div class="prompt-box">
                <h3>🧬 DNA 시퀀싱 통합 프롬프트</h3>
                <div class="code-block">
# 의료문서 DNA 시퀀싱 전문가 v2.5

당신은 의료문서를 분자 수준으로 분석하는 DNA 시퀀싱 전문가입니다.
주어진 의료 텍스트를 다음 4단계로 처리하세요:

## 1단계: 유전자 추출 (Gene Extraction)
의료 텍스트를 의미 있는 최소 단위인 "의료 유전자"로 분할하세요.

### 분할 원칙:
- 하나의 완전한 의료 사건 (날짜 + 장소 + 의료행위 중 최소 2개)
- 독립적으로 해석 가능한 최소 단위
- 다른 유전자와 연결 가능한 앵커 포함
- 중복되지 않는 고유한 정보

### 유전자 구조:
```json
{
  "id": "gene_001",
  "raw_text": "추출된 원본 텍스트",
  "anchors": {
    "temporal": "2024-01-15",
    "spatial": "서울대병원 응급실",
    "medical": "급성충수염 진단",
    "causal": "복통 주증상으로 내원"
  },
  "gene_type": "diagnostic|therapeutic|examination|administrative",
  "confidence": 0.95
}
```

## 2단계: Enhanced Date-Data Anchoring
Dual-Sweep 방식으로 날짜와 데이터를 정확히 연결하세요.

### Forward Sweep (순방향):
1. 절대 날짜 패턴: YYYY-MM-DD, YYYY년 MM월 DD일
2. 상대 날짜 패턴: N일 전/후, 최근, 지난
3. 의료 맥락 패턴: 진료일, 수술일, 처방일
4. 기간 패턴: N일간, 부터~까지

### Backward Sweep (역방향):
1. 텍스트 끝에서 역순 분석
2. 문맥상 누락된 날짜 추론
3. 암시적 시간 관계 파악

### 충돌 해결 규칙:
- 미래 30일, 과거 10년 제한
- 의료 맥락 우선순위: 현재진료(100) > 최근치료(90) > 진단일(85)
- 신뢰도 기반 최종 선택

## 3단계: 텍스트 필터링
다음 룰에 따라 텍스트를 분류하세요:

### 보존 카테고리:
- 감염성 및 기생충성 질환, 임신/출산 합병증
- 선천 기형, 손상/중독/외인
- 주요 시술/처치, 신종 질환

### 제거 카테고리:
- 개인 식별 정보, 행정 정보
- 경미한 자기 제한적 상태
- 미용 목적 시술, 꾀병

### 조건부 제거:
- 증상/징후 → 명확한 진단 없을 시 제거
- 만성 질환 → 급성 악화 없을 시 제거
- 예방적 의료 → 이상 소견 없을 시 제거

## 4단계: 인과관계 네트워크 구축
의료 사건 간 인과관계를 분석하여 네트워크를 구축하세요.

### 인과관계 패턴:
1. 진단 → 치료 (신뢰도: 90%, 시간창: 30일)
2. 증상 → 진단 (신뢰도: 80%, 시간창: 7일)
3. 치료 → 검사 (신뢰도: 85%, 시간창: 90일)
4. 부작용 → 치료변경 (신뢰도: 95%, 시간창: 3일)

### 가중치 계산:
- 시간적 순서: 40%
- 의학적 논리: 30%
- 의미적 유사성: 20%
- 빈도 기반: 10%

## 5단계: 신뢰도 계산
통합 신뢰도를 다음 공식으로 계산하세요:

```
confidence = textClarity * 0.3 + contextStrength * 0.25 + 
             positionWeight * 0.2 + evidenceSpan * 0.25
```

### 신뢰도 등급:
- 높음: 0.85 이상
- 중간: 0.65 - 0.85  
- 낮음: 0.45 - 0.65

## 최종 출력 형식:
```json
{
  "extracted_genes": [...],
  "date_anchoring": {...},
  "filtered_content": {...},
  "causal_network": {
    "nodes": [...],
    "edges": [...]
  },
  "confidence_summary": {
    "overall_confidence": 0.87,
    "processing_quality": "high"
  }
}
```

이제 주어진 의료 텍스트를 위 방식으로 분석해주세요.
                </div>
            </div>

            <div class="warning">
                <strong>⚠️ 주의사항:</strong>
                <ul>
                    <li>개인정보 보호를 위해 환자명, 주민번호 등은 마스킹 처리</li>
                    <li>의학적 판단이 애매한 경우 신뢰도를 낮게 설정</li>
                    <li>날짜 충돌 시 의료 맥락을 우선 고려</li>
                    <li>인과관계는 의학적 논리에 기반하여 보수적으로 설정</li>
                </ul>
            </div>
        </div>

        <!-- 4. 시스템 비교 분석 -->
        <div class="section">
            <h2>⚖️ 4. 룰기반 vs Gemini 2.5 Flash 비교 분석</h2>

            <div class="comparison-grid">
                <div class="comparison-card current">
                    <h3>🔧 현재 룰기반 시스템</h3>
                    <h4>장점:</h4>
                    <ul>
                        <li>높은 정확도 (90%+)</li>
                        <li>예측 가능한 결과</li>
                        <li>의료 도메인 특화</li>
                        <li>디버깅 용이</li>
                    </ul>
                    <h4>단점:</h4>
                    <ul>
                        <li>복잡한 코드 유지보수</li>
                        <li>새로운 패턴 대응 어려움</li>
                        <li>다중 모듈 의존성</li>
                        <li>확장성 제한</li>
                    </ul>
                </div>

                <div class="comparison-card target">
                    <h3>🤖 Gemini 2.5 Flash</h3>
                    <h4>장점:</h4>
                    <ul>
                        <li>단일 모델로 통합 처리</li>
                        <li>자연어 이해 능력</li>
                        <li>새로운 패턴 적응성</li>
                        <li>코드 단순화</li>
                    </ul>
                    <h4>단점:</h4>
                    <ul>
                        <li>일관성 보장 어려움</li>
                        <li>블랙박스 특성</li>
                        <li>API 의존성</li>
                        <li>비용 증가 가능성</li>
                    </ul>
                </div>
            </div>

            <h3>📊 성능 예측 비교</h3>
            <table class="rule-table">
                <thead>
                    <tr>
                        <th>지표</th>
                        <th>현재 룰기반</th>
                        <th>Gemini 2.5 Flash</th>
                        <th>예상 변화</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>정확도</td>
                        <td>90%</td>
                        <td>85-92%</td>
                        <td>±2%</td>
                    </tr>
                    <tr>
                        <td>처리 시간</td>
                        <td>3분</td>
                        <td>1-2분</td>
                        <td>-50%</td>
                    </tr>
                    <tr>
                        <td>유지보수성</td>
                        <td>복잡</td>
                        <td>단순</td>
                        <td>+70%</td>
                    </tr>
                    <tr>
                        <td>확장성</td>
                        <td>제한적</td>
                        <td>높음</td>
                        <td>+80%</td>
                    </tr>
                    <tr>
                        <td>비용</td>
                        <td>낮음</td>
                        <td>중간</td>
                        <td>+30%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 5. 검증 및 개발 계획 -->
        <div class="section">
            <h2>🔬 5. Case Sample 기반 검증-보완-개발 계획</h2>

            <h3>📋 검증 케이스 샘플</h3>
            <div class="code-block">
현재 보유 케이스:
• 12개 확장 케이스 (extended_12cases_summary.csv)
• 신경과 진료 기록 (두통, 어지럼증, MRI/MRA)
• 심장내과 진료 기록 (고혈압, 심전도)
• 정형외과 진료 기록 (어깨 재활치료)
• 내과 진료 기록 (당뇨병, 고혈압)
• 건강검진 기록 (지방간, 콜레스테롤)

성공률: 100% (12/12 케이스)
평균 처리 시간: 40ms
검증 점수: 83.3%
            </div>

            <h3>🔄 반복 개발 프로세스</h3>
            <div class="process-flow">
                <div class="process-step">
                    <h4>1단계</h4>
                    <p>케이스 실행<br>Gemini vs 룰기반</p>
                </div>
                <div class="process-step">
                    <h4>2단계</h4>
                    <p>결과 비교<br>정확도 측정</p>
                </div>
                <div class="process-step">
                    <h4>3단계</h4>
                    <p>프롬프트 보완<br>성능 개선</p>
                </div>
                <div class="process-step">
                    <h4>4단계</h4>
                    <p>재검증<br>품질 확인</p>
                </div>
            </div>

            <h3>🎯 검증 지표</h3>
            <div class="metric-grid">
                <div class="metric-card">
                    <div class="metric-value">90%</div>
                    <div class="metric-label">목표 정확도</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">2분</div>
                    <div class="metric-label">목표 처리 시간</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">85%</div>
                    <div class="metric-label">일관성 점수</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">12개</div>
                    <div class="metric-label">검증 케이스 수</div>
                </div>
            </div>

            <div class="success">
                <strong>✅ 검증 계획:</strong>
                <ol>
                    <li><strong>Phase 1:</strong> 기본 케이스 3개로 프롬프트 초기 검증</li>
                    <li><strong>Phase 2:</strong> 전체 12개 케이스로 성능 측정</li>
                    <li><strong>Phase 3:</strong> 오류 케이스 분석 및 프롬프트 개선</li>
                    <li><strong>Phase 4:</strong> 최종 검증 및 성능 비교</li>
                </ol>
            </div>
        </div>

        <!-- 6. 구현 로드맵 -->
        <div class="section">
            <h2>🗺️ 6. 구현 로드맵 및 권장사항</h2>

            <h3>📅 단계별 구현 계획</h3>
            <table class="rule-table">
                <thead>
                    <tr>
                        <th>단계</th>
                        <th>기간</th>
                        <th>주요 작업</th>
                        <th>성공 지표</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Phase 1</strong><br>프롬프트 설계</td>
                        <td>1주</td>
                        <td>• Gemini API 연동<br>• 통합 프롬프트 구현<br>• 기본 케이스 테스트</td>
                        <td>3개 케이스 80% 정확도</td>
                    </tr>
                    <tr>
                        <td><strong>Phase 2</strong><br>전체 검증</td>
                        <td>2주</td>
                        <td>• 12개 케이스 전체 검증<br>• 성능 비교 분석<br>• 오류 패턴 식별</td>
                        <td>전체 케이스 85% 정확도</td>
                    </tr>
                    <tr>
                        <td><strong>Phase 3</strong><br>최적화</td>
                        <td>2주</td>
                        <td>• 프롬프트 개선<br>• 에러 핸들링 강화<br>• 성능 튜닝</td>
                        <td>90% 정확도 달성</td>
                    </tr>
                    <tr>
                        <td><strong>Phase 4</strong><br>배포 준비</td>
                        <td>1주</td>
                        <td>• 최종 검증<br>• 문서화<br>• 배포 계획</td>
                        <td>프로덕션 준비 완료</td>
                    </tr>
                </tbody>
            </table>

            <h3>💡 권장사항</h3>
            <div class="warning">
                <h4>🔄 하이브리드 접근법 권장</h4>
                <ul>
                    <li><strong>1단계:</strong> Gemini로 초기 처리 후 룰기반으로 검증</li>
                    <li><strong>2단계:</strong> 성능 안정화 후 점진적 전환</li>
                    <li><strong>3단계:</strong> 완전 전환 후 룰기반을 백업으로 유지</li>
                </ul>
            </div>

            <div class="success">
                <h4>🎯 성공 요인</h4>
                <ul>
                    <li><strong>점진적 전환:</strong> 한 번에 모든 모듈을 교체하지 말고 단계적 적용</li>
                    <li><strong>지속적 모니터링:</strong> 성능 지표 실시간 추적</li>
                    <li><strong>백업 시스템:</strong> 룰기반 시스템을 백업으로 유지</li>
                    <li><strong>사용자 피드백:</strong> 손해사정사 피드백 적극 수집</li>
                </ul>
            </div>
        </div>

        <!-- 7. 결론 -->
        <div class="section">
            <h2>📋 7. 결론 및 다음 단계</h2>

            <h3>🎯 핵심 결론</h3>
            <div class="success">
                <p><strong>VNEXSUS 시스템의 Gemini 2.5 Flash 전환은 기술적으로 실현 가능하며, 다음과 같은 이점을 제공할 것으로 예상됩니다:</strong></p>
                <ul>
                    <li>✅ <strong>코드 복잡성 70% 감소</strong> - 다중 모듈을 단일 프롬프트로 통합</li>
                    <li>✅ <strong>처리 시간 50% 단축</strong> - 3분 → 1-2분으로 개선</li>
                    <li>✅ <strong>확장성 80% 향상</strong> - 새로운 의료 패턴 자동 적응</li>
                    <li>✅ <strong>유지보수성 대폭 개선</strong> - 프롬프트 수정만으로 기능 변경</li>
                </ul>
            </div>

            <h3>⚡ 즉시 실행 가능한 다음 단계</h3>
            <div class="code-block">
1. Gemini API 키 적용 및 연동 테스트
2. 통합 프롬프트 구현 및 기본 케이스 검증
3. 3개 케이스로 초기 성능 측정
4. 오류 패턴 분석 및 프롬프트 개선
5. 전체 12개 케이스로 확장 검증
            </div>

            <div class="warning">
                <strong>⚠️ 리스크 관리:</strong>
                <ul>
                    <li>API 장애 대비 룰기반 백업 시스템 유지</li>
                    <li>의료 정확성 검증을 위한 전문가 리뷰 프로세스</li>
                    <li>점진적 전환으로 서비스 중단 위험 최소화</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <p>🧬 VNEXSUS DNA 시퀀싱 시스템 | Gemini 2.5 Flash 전환 분석 보고서</p>
            <p>Generated on 2025-01-27 | Version 1.0</p>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // 모든 탭 콘텐츠 숨기기
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.style.display = 'none';
            });

            // 모든 탭 버튼 비활성화
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });

            // 선택된 탭 콘텐츠 보이기
            document.getElementById(tabName).style.display = 'block';

            // 선택된 탭 버튼 활성화
            event.target.classList.add('active');
        }

        // 페이지 로드 시 애니메이션 효과
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    section.style.transition = 'all 0.6s ease';
                    section.style.opacity = '1';
                    section.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });
    </script>
</body>
</html>