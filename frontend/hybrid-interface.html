<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í•˜ì´ë¸Œë¦¬ë“œ ë¬¸ì„œ ë¶„ì„ ì‹œìŠ¤í…œ</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ”¬</text></svg>">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    /* í•˜ì´ë¸Œë¦¬ë“œ ì¸í„°í˜ì´ìŠ¤ ìŠ¤íƒ€ì¼ */
    .hybrid-interface {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      font-family: 'Segoe UI', 'Malgun Gothic', Arial, sans-serif;
    }

    /* í—¤ë” */
    .hybrid-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
      color: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(30, 64, 175, 0.3);
    }

    .hybrid-header h2 {
      margin: 0;
      font-weight: 600;
    }

    .system-status {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 500;
    }

    .status-ready {
      background: rgba(16, 185, 129, 0.2);
      color: #10b981;
      border: 1px solid rgba(16, 185, 129, 0.3);
    }

    .status-processing {
      background: rgba(245, 158, 11, 0.2);
      color: #f59e0b;
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    .status-error {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    /* ë©”ì¸ ì½˜í…ì¸  */
    .hybrid-content {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 30px;
    }

    /* ì„¤ì • íŒ¨ë„ */
    .config-panel {
      background: white;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      height: fit-content;
      position: sticky;
      top: 20px;
    }

    .config-panel h4 {
      margin: 0 0 20px 0;
      color: #1f2937;
      font-weight: 600;
    }

    .config-group {
      margin-bottom: 20px;
    }

    .config-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #374151;
      font-size: 14px;
    }

    .config-group select,
    .config-group input[type="range"] {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.2s;
    }

    .config-group select:focus,
    .config-group input[type="range"]:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .config-group input[type="checkbox"] {
      margin-right: 8px;
    }

    /* ì—…ë¡œë“œ ì„¹ì…˜ */
    .upload-section {
      background: white;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* ë“œë¡­ì¡´ */
    .drop-zone {
      border: 3px dashed #d1d5db;
      border-radius: 12px;
      padding: 40px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #f9fafb;
      margin-bottom: 20px;
    }

    .drop-zone:hover,
    .drop-zone.drag-over {
      border-color: #3b82f6;
      background: #eff6ff;
    }

    .drop-zone i {
      font-size: 48px;
      color: #9ca3af;
      margin-bottom: 16px;
      display: block;
    }

    .drop-zone p {
      margin: 0 0 8px 0;
      font-size: 16px;
      color: #374151;
      font-weight: 500;
    }

    .drop-zone small {
      color: #6b7280;
      font-size: 14px;
    }

    /* íŒŒì¼ ëª©ë¡ */
    .file-list {
      margin-bottom: 20px;
    }

    .file-list h5 {
      margin: 0 0 16px 0;
      color: #1f2937;
      font-weight: 600;
    }

    .file-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 16px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 8px;
      transition: all 0.2s;
    }

    .file-item:hover {
      background: #f3f4f6;
      border-color: #d1d5db;
    }

    .file-info {
      display: flex;
      align-items: center;
      gap: 12px;
      flex: 1;
    }

    .file-info i {
      font-size: 20px;
      color: #6b7280;
    }

    .file-name {
      font-weight: 500;
      color: #1f2937;
    }

    .file-size {
      color: #6b7280;
      font-size: 14px;
    }

    .btn-remove {
      background: none;
      border: none;
      color: #ef4444;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s;
    }

    .btn-remove:hover {
      background: #fef2f2;
      color: #dc2626;
    }

    .btn-remove:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* ì²˜ë¦¬ ë²„íŠ¼ */
    .process-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .process-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
    }

    .process-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .spin {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* ê²°ê³¼ ì„¹ì…˜ */
    .results-section {
      background: white;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }

    .results-section h4 {
      margin: 0 0 20px 0;
      color: #1f2937;
      font-weight: 600;
    }

    /* ê²°ê³¼ ìš”ì•½ */
    .result-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .summary-card {
      background: #f9fafb;
      padding: 16px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
    }

    .summary-card h6 {
      margin: 0 0 8px 0;
      color: #6b7280;
      font-size: 14px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .mode-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .mode-legacy {
      background: #fef3c7;
      color: #92400e;
    }

    .mode-core {
      background: #dbeafe;
      color: #1e40af;
    }

    .mode-hybrid {
      background: #d1fae5;
      color: #065f46;
    }

    .mode-adaptive {
      background: #e0e7ff;
      color: #3730a3;
    }

    /* ì‹ ë¢°ë„ í‘œì‹œ */
    .confidence-display {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .confidence-bar {
      height: 8px;
      border-radius: 4px;
      transition: width 0.5s ease;
      flex: 1;
    }

    /* ìƒì„¸ ê²°ê³¼ */
    .detailed-results {
      border-top: 1px solid #e5e7eb;
      padding-top: 20px;
    }

    .result-item {
      background: #f9fafb;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 16px;
      border: 1px solid #e5e7eb;
    }

    .result-item h6 {
      margin: 0 0 16px 0;
      color: #1f2937;
      font-weight: 600;
    }

    .analysis-section {
      margin-bottom: 16px;
    }

    .analysis-section h7 {
      display: block;
      margin: 0 0 8px 0;
      color: #374151;
      font-weight: 500;
      font-size: 14px;
    }

    .analysis-content {
      background: white;
      padding: 12px;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
    }

    .analysis-content p {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #4b5563;
    }

    .analysis-content p:last-child {
      margin-bottom: 0;
    }

    /* ì„±ëŠ¥ ë©”íŠ¸ë¦­ */
    .metrics-section {
      background: white;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }

    .metrics-section h4 {
      margin: 0 0 20px 0;
      color: #1f2937;
      font-weight: 600;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .metric-card {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
      text-align: center;
      transition: all 0.3s ease;
    }

    .metric-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .metric-card h6 {
      margin: 0 0 12px 0;
      color: #64748b;
      font-size: 14px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .metric-value {
      display: block;
      font-size: 24px;
      font-weight: 700;
      color: #1e293b;
    }

    /* ë°˜ì‘í˜• ë””ìì¸ */
    @media (max-width: 768px) {
      .hybrid-content {
        grid-template-columns: 1fr;
      }
      
      .config-panel {
        position: static;
      }
      
      .result-summary {
        grid-template-columns: 1fr;
      }
      
      .metrics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .hybrid-interface {
        padding: 10px;
      }
      
      .hybrid-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }
      
      .metrics-grid {
        grid-template-columns: 1fr;
      }
    }

    body {
      background: linear-gradient(135deg, #e8f4fd 0%, #f0f9ff 100%);
      min-height: 100vh;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    const HybridInterface = () => {
      // ìƒíƒœ ê´€ë¦¬
      const [files, setFiles] = useState([]);
      const [processingMode, setProcessingMode] = useState('hybrid');
      const [isProcessing, setIsProcessing] = useState(false);
      const [results, setResults] = useState(null);
      const [performanceMetrics, setPerformanceMetrics] = useState(null);
      const [systemStatus, setSystemStatus] = useState('ready');
      const [config, setConfig] = useState({
        coreEngineRatio: 0.7,
        mergeStrategy: 'confidence',
        validationLevel: 'standard',
        enableABTesting: true
      });
      
      const fileInputRef = useRef(null);
      const dropZoneRef = useRef(null);

      // ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§
      useEffect(() => {
        const checkSystemStatus = async () => {
          try {
            const response = await fetch('http://localhost:3030/api/hybrid/status');
            const status = await response.json();
            setSystemStatus(status.success ? 'ready' : 'error');
          } catch (error) {
            console.error('ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:', error);
            setSystemStatus('error');
          }
        };

        checkSystemStatus();
        const interval = setInterval(checkSystemStatus, 30000); // 30ì´ˆë§ˆë‹¤ ìƒíƒœ í™•ì¸
        return () => clearInterval(interval);
      }, []);

      // íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì²˜ë¦¬
      const handleDragOver = (e) => {
        e.preventDefault();
        dropZoneRef.current?.classList.add('drag-over');
      };

      const handleDragLeave = (e) => {
        e.preventDefault();
        dropZoneRef.current?.classList.remove('drag-over');
      };

      const handleDrop = (e) => {
        e.preventDefault();
        dropZoneRef.current?.classList.remove('drag-over');
        const droppedFiles = Array.from(e.dataTransfer.files);
        addFiles(droppedFiles);
      };

      const handleFileSelect = (e) => {
        const selectedFiles = Array.from(e.target.files);
        addFiles(selectedFiles);
      };

      const addFiles = (newFiles) => {
        const validFiles = newFiles.filter(file => 
          file.type === 'application/pdf' || 
          file.type.startsWith('image/') ||
          file.type === 'text/plain'
        );
        
        setFiles(prev => [...prev, ...validFiles.map(file => ({
          id: Date.now() + Math.random(),
          file,
          name: file.name,
          size: file.size,
          type: file.type
        }))]);
      };

      const removeFile = (fileId) => {
        setFiles(prev => prev.filter(f => f.id !== fileId));
      };

      // ë¬¸ì„œ ì²˜ë¦¬ ì‹¤í–‰
      const processDocuments = async () => {
        if (files.length === 0) {
          alert('ì²˜ë¦¬í•  íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
          return;
        }

        setIsProcessing(true);
        setResults(null);
        setPerformanceMetrics(null);

        try {
          const formData = new FormData();
          files.forEach(fileItem => {
            formData.append('files', fileItem.file);
          });
          
          formData.append('mode', processingMode);
          formData.append('config', JSON.stringify(config));

          const response = await fetch('http://localhost:3030/api/hybrid/process', {
            method: 'POST',
            body: formData
          });

          if (!response.ok) {
            throw new Error(`ì²˜ë¦¬ ì‹¤íŒ¨: ${response.status}`);
          }

          const result = await response.json();
          setResults(result);
          
          // ì„±ëŠ¥ ë©”íŠ¸ë¦­ ê°€ì ¸ì˜¤ê¸°
          const metricsResponse = await fetch('http://localhost:3030/api/hybrid/metrics');
          const metrics = await metricsResponse.json();
          setPerformanceMetrics(metrics);

        } catch (error) {
          console.error('ë¬¸ì„œ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
          alert(`ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);
        } finally {
          setIsProcessing(false);
        }
      };

      // ì„¤ì • ì—…ë°ì´íŠ¸
      const updateConfig = async (newConfig) => {
          try {
            const response = await fetch('http://localhost:3030/api/hybrid/config', {
              method: 'PUT',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(newConfig)
            });
            
            if (response.ok) {
              setConfig(newConfig);
            }
          } catch (error) {
            console.error('ì„¤ì • ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
          }
        };

      // íŒŒì¼ í¬ê¸° í¬ë§·íŒ…
      const formatFileSize = (bytes) => {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
      };

      // ì‹ ë¢°ë„ ìƒ‰ìƒ ê³„ì‚°
      const getConfidenceColor = (confidence) => {
        if (confidence >= 0.8) return '#10b981'; // ë…¹ìƒ‰
        if (confidence >= 0.6) return '#f59e0b'; // ì£¼í™©ìƒ‰
        return '#ef4444'; // ë¹¨ê°„ìƒ‰
      };

      return (
        <div className="hybrid-interface">
          {/* í—¤ë” */}
          <div className="hybrid-header">
            <h2>í•˜ì´ë¸Œë¦¬ë“œ ë¬¸ì„œ ë¶„ì„ ì‹œìŠ¤í…œ</h2>
            <div className={`system-status status-${systemStatus}`}>
              <i className={`bi bi-${systemStatus === 'ready' ? 'check-circle' : systemStatus === 'processing' ? 'clock' : 'exclamation-triangle'}`}></i>
              <span>{systemStatus === 'ready' ? 'ì¤€ë¹„ë¨' : systemStatus === 'processing' ? 'ì²˜ë¦¬ì¤‘' : 'ì˜¤ë¥˜'}</span>
            </div>
          </div>

          <div className="hybrid-content">
            {/* ì„¤ì • íŒ¨ë„ */}
            <div className="config-panel">
              <h4>ì²˜ë¦¬ ì„¤ì •</h4>
              
              <div className="config-group">
                <label>ì²˜ë¦¬ ëª¨ë“œ</label>
                <select 
                  value={processingMode} 
                  onChange={(e) => setProcessingMode(e.target.value)}
                  disabled={isProcessing}
                >
                  <option value="legacy">ë ˆê±°ì‹œ ëª¨ë“œ</option>
                  <option value="core">ì½”ì–´ ì—”ì§„ ëª¨ë“œ</option>
                  <option value="hybrid">í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë“œ</option>
                  <option value="adaptive">ì ì‘í˜• ëª¨ë“œ</option>
                </select>
              </div>

              <div className="config-group">
                <label>ì½”ì–´ ì—”ì§„ ë¹„ìœ¨: {Math.round(config.coreEngineRatio * 100)}%</label>
                <input
                  type="range"
                  min="0"
                  max="1"
                  step="0.1"
                  value={config.coreEngineRatio}
                  onChange={(e) => updateConfig({...config, coreEngineRatio: parseFloat(e.target.value)})}
                  disabled={isProcessing}
                />
              </div>

              <div className="config-group">
                <label>ë³‘í•© ì „ëµ</label>
                <select 
                  value={config.mergeStrategy} 
                  onChange={(e) => updateConfig({...config, mergeStrategy: e.target.value})}
                  disabled={isProcessing}
                >
                  <option value="confidence">ì‹ ë¢°ë„ ê¸°ë°˜</option>
                  <option value="consensus">í•©ì˜ ê¸°ë°˜</option>
                  <option value="priority">ìš°ì„ ìˆœìœ„ ê¸°ë°˜</option>
                  <option value="weighted">ê°€ì¤‘ì¹˜ ê¸°ë°˜</option>
                </select>
              </div>

              <div className="config-group">
                <label>
                  <input
                    type="checkbox"
                    checked={config.enableABTesting}
                    onChange={(e) => updateConfig({...config, enableABTesting: e.target.checked})}
                    disabled={isProcessing}
                  />
                  A/B í…ŒìŠ¤íŠ¸ í™œì„±í™”
                </label>
              </div>
            </div>

            {/* íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ */}
            <div className="upload-section">
              <div 
                ref={dropZoneRef}
                className="drop-zone"
                onDragOver={handleDragOver}
                onDragLeave={handleDragLeave}
                onDrop={handleDrop}
                onClick={() => fileInputRef.current?.click()}
              >
                <i className="bi bi-cloud-upload"></i>
                <p>íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</p>
                <small>PDF, ì´ë¯¸ì§€, í…ìŠ¤íŠ¸ íŒŒì¼ ì§€ì›</small>
              </div>
              
              <input
                ref={fileInputRef}
                type="file"
                multiple
                accept=".pdf,image/*,.txt"
                onChange={handleFileSelect}
                style={{ display: 'none' }}
              />

              {/* íŒŒì¼ ëª©ë¡ */}
              {files.length > 0 && (
                <div className="file-list">
                  <h5>ì„ íƒëœ íŒŒì¼ ({files.length}ê°œ)</h5>
                  {files.map(fileItem => (
                    <div key={fileItem.id} className="file-item">
                      <div className="file-info">
                        <i className={`bi bi-${fileItem.type.includes('pdf') ? 'file-pdf' : fileItem.type.includes('image') ? 'image' : 'file-text'}`}></i>
                        <span className="file-name">{fileItem.name}</span>
                        <span className="file-size">({formatFileSize(fileItem.size)})</span>
                      </div>
                      <button 
                        className="btn-remove"
                        onClick={() => removeFile(fileItem.id)}
                        disabled={isProcessing}
                      >
                        <i className="bi bi-x"></i>
                      </button>
                    </div>
                  ))}
                </div>
              )}

              {/* ì²˜ë¦¬ ë²„íŠ¼ */}
              <button 
                className="process-btn"
                onClick={processDocuments}
                disabled={isProcessing || files.length === 0}
              >
                {isProcessing ? (
                  <>
                    <i className="bi bi-arrow-clockwise spin"></i>
                    ì²˜ë¦¬ ì¤‘...
                  </>
                ) : (
                  <>
                    <i className="bi bi-play-fill"></i>
                    ë¬¸ì„œ ë¶„ì„ ì‹œì‘
                  </>
                )}
              </button>
            </div>

            {/* ê²°ê³¼ í‘œì‹œ ì˜ì—­ */}
            {results && (
              <div className="results-section">
                <h4>ë¶„ì„ ê²°ê³¼</h4>
                
                {/* ìš”ì•½ ì •ë³´ */}
                <div className="result-summary">
                  <div className="summary-card">
                    <h6>ì²˜ë¦¬ ëª¨ë“œ</h6>
                    <span className={`mode-badge mode-${results.processingMode}`}>
                      {results.processingMode}
                    </span>
                  </div>
                  
                  <div className="summary-card">
                    <h6>ì „ì²´ ì‹ ë¢°ë„</h6>
                    <div className="confidence-display">
                      <div 
                        className="confidence-bar"
                        style={{ 
                          width: `${results.overallConfidence * 100}%`,
                          backgroundColor: getConfidenceColor(results.overallConfidence)
                        }}
                      ></div>
                      <span>{Math.round(results.overallConfidence * 100)}%</span>
                    </div>
                  </div>
                  
                  <div className="summary-card">
                    <h6>ì²˜ë¦¬ ì‹œê°„</h6>
                    <span>{results.processingTime}ms</span>
                  </div>
                </div>

                {/* ìƒì„¸ ê²°ê³¼ */}
                <div className="detailed-results">
                  {results.results?.map((result, index) => (
                    <div key={index} className="result-item">
                      <h6>íŒŒì¼: {result.filename}</h6>
                      
                      {result.dateAnalysis && (
                        <div className="analysis-section">
                          <h7>ë‚ ì§œ ë¶„ì„</h7>
                          <div className="analysis-content">
                            <p><strong>ì¶”ì¶œëœ ë‚ ì§œ:</strong> {result.dateAnalysis.extractedDates?.join(', ') || 'ì—†ìŒ'}</p>
                            <p><strong>ì‹ ë¢°ë„:</strong> {Math.round((result.dateAnalysis.confidence || 0) * 100)}%</p>
                          </div>
                        </div>
                      )}
                      
                      {result.medicalAnalysis && (
                        <div className="analysis-section">
                          <h7>ì˜ë£Œ ë¬¸ì„œ ë¶„ì„</h7>
                          <div className="analysis-content">
                            <p><strong>ë¬¸ì„œ ìœ í˜•:</strong> {result.medicalAnalysis.documentType || 'ë¯¸ë¶„ë¥˜'}</p>
                            <p><strong>ì˜ë£Œ ìš©ì–´:</strong> {result.medicalAnalysis.medicalTerms?.join(', ') || 'ì—†ìŒ'}</p>
                            <p><strong>ì‹ ë¢°ë„:</strong> {Math.round((result.medicalAnalysis.confidence || 0) * 100)}%</p>
                          </div>
                        </div>
                      )}
                    </div>
                  ))}
                </div>
              </div>
            )}

            {/* ì„±ëŠ¥ ë©”íŠ¸ë¦­ */}
            {performanceMetrics && (
              <div className="metrics-section">
                <h4>ì„±ëŠ¥ ë©”íŠ¸ë¦­</h4>
                <div className="metrics-grid">
                  <div className="metric-card">
                    <h6>í‰ê·  ì²˜ë¦¬ ì‹œê°„</h6>
                    <span className="metric-value">{performanceMetrics.averageProcessingTime}ms</span>
                  </div>
                  <div className="metric-card">
                    <h6>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</h6>
                    <span className="metric-value">{performanceMetrics.memoryUsage}MB</span>
                  </div>
                  <div className="metric-card">
                    <h6>ì„±ê³µë¥ </h6>
                    <span className="metric-value">{Math.round(performanceMetrics.successRate * 100)}%</span>
                  </div>
                  <div className="metric-card">
                    <h6>ì²˜ë¦¬ëœ ë¬¸ì„œ</h6>
                    <span className="metric-value">{performanceMetrics.totalProcessed}</span>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    };

    // React ì•± ë Œë”ë§
    ReactDOM.render(<HybridInterface />, document.getElementById('root'));
  </script>
</body>
</html>