<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR ì„±ëŠ¥ ê°œì„  ì „ëµ - ë‹¤ì¤‘ ëª¨ë¸ vs ë³´ì™„ ë¡œì§ ë¹„êµ ë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --gray: #6b7280;
            --light: #f3f4f6;
            --border: #e5e7eb;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: #fafafa;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .section h2 {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--dark);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
        }

        .section h3 {
            font-size: 20px;
            margin: 25px 0 15px;
            color: #374151;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }

        .comparison-table th {
            background: #f9fafb;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid var(--border);
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }

        .comparison-table tr:hover {
            background: #f9fafb;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin: 2px;
        }

        .badge.recommended {
            background: #d1fae5;
            color: #065f46;
        }

        .badge.expensive {
            background: #fecaca;
            color: #991b1b;
        }

        .badge.moderate {
            background: #fed7aa;
            color: #92400e;
        }

        .badge.cheap {
            background: #dbeafe;
            color: #1e40af;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros, .cons {
            padding: 20px;
            border-radius: 8px;
        }

        .pros {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
        }

        .cons {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
        }

        .pros h4, .cons h4 {
            margin-bottom: 10px;
            font-size: 16px;
        }

        .pros h4 {
            color: #065f46;
        }

        .cons h4 {
            color: #991b1b;
        }

        .pros ul, .cons ul {
            list-style: none;
            margin-left: 0;
        }

        .pros li::before {
            content: "âœ… ";
            margin-right: 5px;
        }

        .cons li::before {
            content: "âŒ ";
            margin-right: 5px;
        }

        .option-card {
            background: #fff7ed;
            border-left: 4px solid #f59e0b;
            padding: 25px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .option-card h3 {
            color: #92400e;
            margin: 0 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .priority {
            background: #f59e0b;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .code-block {
            background: #1f2937;
            color: #e5e7eb;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
            line-height: 1.5;
        }

        .cost-breakdown {
            background: #eff6ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed #ddd;
        }

        .cost-item:last-child {
            border-bottom: none;
            font-weight: 600;
            font-size: 16px;
            margin-top: 10px;
            padding-top: 15px;
            border-top: 2px solid #2563eb;
        }

        .highlight-box {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: #92400e;
            margin-bottom: 10px;
        }

        .recommendation {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .recommendation h3 {
            color: #065f46;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .recommendation p {
            color: #047857;
            font-size: 16px;
            line-height: 1.8;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--border);
            text-align: center;
        }

        .metric-card h4 {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .metric-card .value {
            font-size: 32px;
            font-weight: bold;
            color: var(--dark);
        }

        .metric-card .sub {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¬ OCR ì„±ëŠ¥ ê°œì„  ì „ëµ</h1>
            <p>ë‹¤ì¤‘ ëª¨ë¸ ë¹„êµ vs ë³´ì™„ ë¡œì§ - ë¹„ìš©/íš¨ê³¼ ë¶„ì„ ë° ê¶Œì¥ì‚¬í•­</p>
            <div style="margin-top: 20px; font-size: 14px;">
                <span>ğŸ“… 2026-01-18</span> |
                <span>ğŸ“Š í˜„ì¬ OCR: GCS Vision API</span> |
                <span>ğŸ¯ ëª©í‘œ: 36.4% ëˆ„ë½ë¥  ê°œì„ </span>
            </div>
        </div>

        <!-- ë¬¸ì œ ì •ì˜ -->
        <div class="section">
            <h2>ğŸ¯ ë¬¸ì œ ì •ì˜</h2>

            <div class="highlight-box">
                <h4>í•µì‹¬ ë°œê²¬ì‚¬í•­ (ì‹¬ì¸µ ë¶„ì„ ê²°ê³¼)</h4>
                <p style="line-height: 1.8; color: #92400e;">
                    <strong>ë¬¸ì œ:</strong> OCRì´ ë¬¸ì„œì˜ ì¤‘ìš” ë‚ ì§œ 36.4%ë¥¼ ì¶”ì¶œí•˜ì§€ ëª»í•¨ (43/118ê°œ)<br>
                    <strong>ì›ì¸:</strong> í‘œ êµ¬ì¡° íŒŒì‹± ì‹¤íŒ¨ - ë‚ ì§œê°€ ì—¬ëŸ¬ ë¸”ë¡ìœ¼ë¡œ ë¶„ì‚°ë¨<br>
                    <strong>íŒ¨í„´:</strong> "ë³´í—˜ê¸°ê°„", "ê³„ì•½ì¼", "ê°€ì…ì¼" ë“± í‘œ í˜•ì‹ ì •ë³´ì—ì„œ ì£¼ë¡œ ë°œìƒ<br>
                    <strong>ì˜í–¥:</strong> í•˜ ë“±ê¸‰ 5ê°œ (17.9%), ì¤‘ ë“±ê¸‰ 8ê°œ (28.6%)
                </p>
            </div>

            <h3>OCR ëˆ„ë½ ì‚¬ë¡€</h3>
            <div class="code-block">
# Case10: ë³´í—˜ ê¸°ê°„ ì •ë³´
ì›ë³¸ ë¬¸ì„œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë³´ í—˜ ê¸° ê°„ â”‚ â‘  2024.05.01 ~ 2054.11.10   â”‚
â”‚             â”‚ â‘¡ 2024.05.01 ~ 2025.11.10   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GCS Vision OCR ê²°ê³¼:
Block 1: "ë³´"
Block 2: "í—˜"
Block 3: "ê¸°"
Block 4: "ê°„"
Block 5: "â‘ "
Block 6: "2024"
Block 7: "."
Block 8: "05"
...
â†’ ê° ë¸”ë¡ì´ ì§§ì•„ì„œ ë‚ ì§œ íŒ¨í„´ ë§¤ì¹­ ì‹¤íŒ¨ (2024.05.01, 2054.11.10, 2025.11.10 ëª¨ë‘ ëˆ„ë½)
            </div>

            <div class="metric-grid">
                <div class="metric-card">
                    <h4>í˜„ì¬ ì •í™•ë„</h4>
                    <div class="value">61.7%</div>
                    <div class="sub">í•˜/ì¤‘ ë“±ê¸‰ 13ê°œ</div>
                </div>
                <div class="metric-card">
                    <h4>OCR ëˆ„ë½ë¥ </h4>
                    <div class="value">36.4%</div>
                    <div class="sub">43/118 ë‚ ì§œ</div>
                </div>
                <div class="metric-card">
                    <h4>ë¹„ìš© ì§€ì¶œ</h4>
                    <div class="value">~10ë§Œì›</div>
                    <div class="sub">50ì¼€ì´ìŠ¤ OCR</div>
                </div>
                <div class="metric-card">
                    <h4>ëª©í‘œ ì •í™•ë„</h4>
                    <div class="value">85%+</div>
                    <div class="sub">Quick Win ëª©í‘œ</div>
                </div>
            </div>
        </div>

        <!-- ì˜µì…˜ ë¹„êµ -->
        <div class="section">
            <h2>âš–ï¸ í•´ê²° ë°©ì•ˆ ë¹„êµ</h2>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th style="width: 20%;">ë°©ì•ˆ</th>
                        <th style="width: 15%;">ë¹„ìš©</th>
                        <th style="width: 15%;">êµ¬í˜„ ì‹œê°„</th>
                        <th style="width: 20%;">ì˜ˆìƒ íš¨ê³¼</th>
                        <th style="width: 30%;">ì£¼ìš” ì¥ì /ë‹¨ì </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Option A<br>ë³´ì™„ ë¡œì§</strong><br><span class="badge recommended">ê¶Œì¥</span></td>
                        <td><span class="badge cheap">$0</span><br>(ì½”ë“œë§Œ)</td>
                        <td>2-3ì¼</td>
                        <td>61.7% â†’ <strong>85%+</strong><br>(+23.3%p)</td>
                        <td>
                            âœ… ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥<br>
                            âœ… ì¶”ê°€ ë¹„ìš© ì—†ìŒ<br>
                            âœ… ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ í™œìš©<br>
                            âŒ OCR ìì²´ ê°œì„  ì•„ë‹˜
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Option B<br>ë‹¤ë¥¸ OCR ëª¨ë¸</strong></td>
                        <td><span class="badge expensive">$0.05~0.15</span><br>/ì¼€ì´ìŠ¤</td>
                        <td>1ì£¼</td>
                        <td>61.7% â†’ <strong>70-80%?</strong><br>(ë¶ˆí™•ì‹¤)</td>
                        <td>
                            âœ… ê·¼ë³¸ì  OCR ê°œì„ <br>
                            âŒ ë¹„ìš© ì¦ê°€ (50ì¼€ì´ìŠ¤ = $7.5)<br>
                            âŒ íš¨ê³¼ ë¶ˆí™•ì‹¤<br>
                            âŒ í‘œ êµ¬ì¡° ë¬¸ì œëŠ” ë™ì¼ ê°€ëŠ¥ì„±
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Option C<br>í•˜ì´ë¸Œë¦¬ë“œ</strong></td>
                        <td><span class="badge moderate">$0.03~0.08</span><br>/ì¼€ì´ìŠ¤</td>
                        <td>2ì£¼</td>
                        <td>61.7% â†’ <strong>90%+</strong><br>(+28.3%p)</td>
                        <td>
                            âœ… ìµœê³  ì •í™•ë„<br>
                            âœ… ìƒí˜¸ ë³´ì™„<br>
                            âŒ ë³µì¡ë„ ì¦ê°€<br>
                            âŒ ë¹„ìš© ì¤‘ê°„
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Option D<br>Vision LLM</strong></td>
                        <td><span class="badge moderate">$0.02~0.05</span><br>/ì¼€ì´ìŠ¤</td>
                        <td>3-5ì¼</td>
                        <td>61.7% â†’ <strong>85-95%</strong><br>(+23-33%p)</td>
                        <td>
                            âœ… í‘œ êµ¬ì¡° ì´í•´ ëŠ¥ë ¥<br>
                            âœ… ë¬¸ë§¥ ê¸°ë°˜ ì¶”ì¶œ<br>
                            âŒ ì‘ë‹µ ì‹œê°„ ëŠë¦¼<br>
                            âŒ ë¹„ìš© ì¤‘ê°„
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Option A: ë³´ì™„ ë¡œì§ (ê¶Œì¥) -->
        <div class="option-card">
            <h3>
                <span class="priority">ì¶”ì²œ</span>
                Option A: ë³´ì™„ ë¡œì§ ê°•í™” (Quick Win)
            </h3>

            <p style="margin-bottom: 20px; color: #92400e;">
                <strong>í•µì‹¬ ì•„ì´ë””ì–´:</strong> í˜„ì¬ GCS Vision OCR ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë˜, LLM í›„ì²˜ë¦¬ë¡œ ëˆ„ë½ ë‚ ì§œ ë³µì›
            </p>

            <h4 style="margin-top: 20px; color: #374151;">1ï¸âƒ£ LLM ê¸°ë°˜ ë‚ ì§œ ë³´ì™„</h4>
            <div class="code-block">
// Step 1: OCR ë¸”ë¡ ë³‘í•©í•˜ì—¬ ì—°ì†ëœ í…ìŠ¤íŠ¸ ìƒì„±
function mergeOCRBlocks(blocks: Block[]): string {
    // ê°™ì€ í˜ì´ì§€, ìœ ì‚¬í•œ Y ì¢Œí‘œ ë¸”ë¡ì„ ë³‘í•©
    return blocks
        .sort((a, b) => a.page - b.page || a.y - b.y)
        .map(b => b.text)
        .join(' ');
}

// Step 2: LLMì—ê²Œ ì¤‘ìš” ë‚ ì§œ ì¶”ì¶œ ìš”ì²­
const llmPrompt = `
ë‹¤ìŒì€ ì˜ë£Œë³´í—˜ ì†í•´ì‚¬ì • ë³´ê³ ì„œì…ë‹ˆë‹¤.
ì¤‘ìš”í•œ ë‚ ì§œë¥¼ ëª¨ë‘ ì°¾ì•„ì£¼ì„¸ìš” (í‘œ êµ¬ì¡°ì— í¬í•¨ëœ ë‚ ì§œë„ ë¹ ì§ì—†ì´):

- ë³´í—˜ ê³„ì•½ì¼/ê°€ì…ì¼
- ë³´í—˜ ê¸°ê°„ (ì‹œì‘ì¼, ì¢…ë£Œì¼)
- ì‚¬ê³  ë°œìƒì¼
- ë³‘ì› ë‚´ì›ì¼/ì…ì›ì¼/í‡´ì›ì¼

í…ìŠ¤íŠ¸:
${mergedText}

JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ë˜, ë‚ ì§œ í˜•ì‹ì€ YYYY-MM-DDë¡œ ì •ê·œí™”:
{
  "dates": [
    {"date": "2024-05-01", "type": "ë³´í—˜_ì‹œì‘ì¼", "context": "ë³´í—˜ê¸°ê°„ 2024.05.01 ~ 2054.11.10"},
    {"date": "2054-11-10", "type": "ë³´í—˜_ì¢…ë£Œì¼", "context": "ë³´í—˜ê¸°ê°„ 2024.05.01 ~ 2054.11.10"}
  ]
}
`;

const llmResponse = await callGPT4oMini(llmPrompt);

// Step 3: OCR ë‚ ì§œì™€ LLM ë‚ ì§œ ë³‘í•©
const ocrDates = extractDatesFromOCR(blocks);
const llmDates = llmResponse.dates.map(d => d.date);
const allDates = [...new Set([...ocrDates, ...llmDates])];
            </div>

            <h4 style="margin-top: 25px; color: #374151;">2ï¸âƒ£ ë‚ ì§œ ì •ê·œí™” ê°•í™”</h4>
            <div class="code-block">
// ë‹¤ì–‘í•œ í˜•ì‹ ì§€ì›
const datePatterns = [
    /(\d{4})[-](\d{1,2})[-](\d{1,2})/,     // 2024-05-01
    /(\d{4})[.](\d{1,2})[.](\d{1,2})/,     // 2024.05.01 â† ëˆ„ë½ ì£¼ë²”
    /(\d{4})[/](\d{1,2})[/](\d{1,2})/,     // 2024/05/01
    /(\d{4})ë…„\s*(\d{1,2})ì›”\s*(\d{1,2})ì¼/  // 2024ë…„ 5ì›” 1ì¼
];

function normalizeDate(text: string): string[] {
    const dates = new Set<string>();

    for (const pattern of datePatterns) {
        const matches = [...text.matchAll(new RegExp(pattern, 'g'))];
        for (const match of matches) {
            const [, year, month, day] = match;
            const normalized = `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;

            // ìœ íš¨ì„± ê²€ì¦
            if (isValidDate(normalized)) {
                dates.add(normalized);
            }
        }
    }

    return Array.from(dates);
}
            </div>

            <h4 style="margin-top: 25px; color: #374151;">3ï¸âƒ£ ë‚ ì§œ ìœ íš¨ì„± ê²€ì¦</h4>
            <div class="code-block">
function isValidDate(dateStr: string): boolean {
    const [year, month, day] = dateStr.split('-').map(Number);

    // ë²”ìœ„ ì²´í¬
    if (month < 1 || month > 12) return false;
    if (day < 1 || day > 31) return false;

    // ë¯¸ë˜ ë‚ ì§œ ì²´í¬
    // ë‹¨, ë³´í—˜ ë§Œê¸°ì¼ì€ ë¯¸ë˜ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•©ë¦¬ì ì¸ ë²”ìœ„ë§Œ í•„í„°ë§
    const date = new Date(year, month - 1, day);
    const maxFuture = new Date();
    maxFuture.setFullYear(maxFuture.getFullYear() + 50); // 50ë…„ í›„ê¹Œì§€ í—ˆìš©

    if (date > maxFuture) return false; // 2074ë…„ ì´í›„ëŠ” ì˜¤ë¥˜

    // ë„ˆë¬´ ê³¼ê±° ë‚ ì§œ (1950ë…„ ì´ì „)
    if (year < 1950) return false;

    return true;
}
            </div>

            <div class="cost-breakdown">
                <h4 style="margin-bottom: 15px; color: #1e40af;">ğŸ’° ë¹„ìš© ë¶„ì„</h4>
                <div class="cost-item">
                    <span>LLM í˜¸ì¶œ (gpt-4o-mini)</span>
                    <span>$0.00 (ì´ë¯¸ ì‚¬ìš© ì¤‘)</span>
                </div>
                <div class="cost-item">
                    <span>ì¶”ê°€ ê°œë°œ ì‹œê°„</span>
                    <span>2-3ì¼</span>
                </div>
                <div class="cost-item">
                    <span>ì¶”ê°€ ì¸í”„ë¼ ë¹„ìš©</span>
                    <span>$0</span>
                </div>
                <div class="cost-item">
                    <span><strong>ì´ ë¹„ìš©</strong></span>
                    <span><strong>$0</strong></span>
                </div>
            </div>

            <div class="pros-cons">
                <div class="pros">
                    <h4>âœ… ì¥ì </h4>
                    <ul>
                        <li>ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥ (2-3ì¼)</li>
                        <li>ì¶”ê°€ ë¹„ìš© 0ì›</li>
                        <li>ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ ê·¸ëŒ€ë¡œ ì‚¬ìš©</li>
                        <li>LLMì´ í‘œ êµ¬ì¡°ë¥¼ ì´í•´í•˜ì—¬ ë³´ì™„</li>
                        <li>ê²€ì¦ëœ ì ‘ê·¼ (Named ì¼€ì´ìŠ¤ 100% ì •í™•)</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>âŒ ë‹¨ì </h4>
                    <ul>
                        <li>OCR ì—”ì§„ ìì²´ëŠ” ê°œì„  ì•ˆ ë¨</li>
                        <li>LLM ì˜ì¡´ë„ ì¦ê°€</li>
                        <li>ì‘ë‹µ ì‹œê°„ ì•½ê°„ ì¦ê°€ (1-2ì´ˆ)</li>
                    </ul>
                </div>
            </div>

            <div style="background: #d1fae5; padding: 20px; border-radius: 8px; margin-top: 20px;">
                <h4 style="color: #065f46; margin-bottom: 10px;">ğŸ“Š ì˜ˆìƒ íš¨ê³¼</h4>
                <p style="color: #047857; line-height: 1.8;">
                    â€¢ í‰ê·  ì •í™•ë„: <strong>61.7% â†’ 85%+</strong> (+23.3%p)<br>
                    â€¢ í•˜ ë“±ê¸‰: <strong>5ê°œ â†’ 0-1ê°œ</strong> (17.9% â†’ 0-3.6%)<br>
                    â€¢ ì¤‘ ë“±ê¸‰: <strong>8ê°œ â†’ 3-4ê°œ</strong> (28.6% â†’ 10-14%)<br>
                    â€¢ ìƒ ë“±ê¸‰: <strong>15ê°œ â†’ 23-24ê°œ</strong> (53.6% â†’ 82-86%)
                </p>
            </div>
        </div>

        <!-- Option B: ë‹¤ë¥¸ OCR ëª¨ë¸ -->
        <div class="section">
            <h2>ğŸ“‹ Option B: ë‹¤ë¥¸ OCR ëª¨ë¸ ì‚¬ìš©</h2>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>OCR ëª¨ë¸</th>
                        <th>ë¹„ìš© (/1000 images)</th>
                        <th>ì¥ì </th>
                        <th>ë‹¨ì </th>
                        <th>ì¶”ì • íš¨ê³¼</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>GCS Vision API</strong><br>(í˜„ì¬)</td>
                        <td>$1.50</td>
                        <td>
                            â€¢ ì•ˆì •ì <br>
                            â€¢ ì´ë¯¸ í†µí•©ë¨<br>
                            â€¢ í•œêµ­ì–´ ì§€ì› ìš°ìˆ˜
                        </td>
                        <td>
                            â€¢ í‘œ êµ¬ì¡° íŒŒì‹± ì•½í•¨<br>
                            â€¢ 36.4% ëˆ„ë½
                        </td>
                        <td>í˜„ì¬ 61.7%</td>
                    </tr>
                    <tr>
                        <td><strong>AWS Textract</strong></td>
                        <td>$1.50</td>
                        <td>
                            â€¢ <strong>í‘œ êµ¬ì¡° íŠ¹í™”</strong><br>
                            â€¢ Forms/Tables API ì œê³µ<br>
                            â€¢ ì…€ ë‹¨ìœ„ ì¶”ì¶œ ê°€ëŠ¥
                        </td>
                        <td>
                            â€¢ í•œêµ­ì–´ ì§€ì› ì œí•œì <br>
                            â€¢ ìƒˆë¡œìš´ í†µí•© í•„ìš”<br>
                            â€¢ í•™ìŠµ ê³¡ì„ 
                        </td>
                        <td>ì˜ˆìƒ 70-80%<br>(í‘œ ê°œì„ )</td>
                    </tr>
                    <tr>
                        <td><strong>Azure Document Intelligence</strong></td>
                        <td>$1.00</td>
                        <td>
                            â€¢ í‘œ êµ¬ì¡° ê°•í•¨<br>
                            â€¢ í•œêµ­ì–´ ì§€ì›<br>
                            â€¢ Layout API
                        </td>
                        <td>
                            â€¢ ìƒˆë¡œìš´ í†µí•© í•„ìš”<br>
                            â€¢ GCSë³´ë‹¤ ë¹„ìŒ€ ìˆ˜ ìˆìŒ
                        </td>
                        <td>ì˜ˆìƒ 70-75%<br>(í‘œ ê°œì„ )</td>
                    </tr>
                    <tr>
                        <td><strong>Tesseract + Layout Parser</strong></td>
                        <td>$0 (ì˜¤í”ˆì†ŒìŠ¤)</td>
                        <td>
                            â€¢ ë¬´ë£Œ<br>
                            â€¢ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥<br>
                            â€¢ ë¡œì»¬ ì‹¤í–‰
                        </td>
                        <td>
                            â€¢ ì •í™•ë„ ë‚®ìŒ<br>
                            â€¢ í•œêµ­ì–´ ì•½í•¨<br>
                            â€¢ ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´
                        </td>
                        <td>ì˜ˆìƒ 40-60%<br>(ë‚®ìŒ)</td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <h4>âš ï¸ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­</h4>
                <p style="line-height: 1.8; color: #92400e;">
                    1. <strong>OCR ëª¨ë¸ë§Œ ë°”ê¿”ë„ í‘œ êµ¬ì¡° ë¬¸ì œê°€ í•´ê²°ë ê¹Œ?</strong><br>
                    â†’ ë³´ì¥ ì—†ìŒ. AWS Textractë„ "ë³´ í—˜ ê¸° ê°„"ì²˜ëŸ¼ ê¸€ì ê°„ ê³µë°±ì´ ë§ìœ¼ë©´ ì‹¤íŒ¨ ê°€ëŠ¥<br><br>

                    2. <strong>ë¹„ìš© ì¦ê°€</strong><br>
                    â†’ 50ì¼€ì´ìŠ¤ ì¬ì²˜ë¦¬ ì‹œ $7.5 (Textract) vs $0 (ë³´ì™„ ë¡œì§)<br><br>

                    3. <strong>ì‹œê°„ íˆ¬ì</strong><br>
                    â†’ ìƒˆ OCR í†µí•© (1ì£¼) vs ë³´ì™„ ë¡œì§ êµ¬í˜„ (2-3ì¼)<br><br>

                    4. <strong>íš¨ê³¼ ë¶ˆí™•ì‹¤ì„±</strong><br>
                    â†’ ë‹¤ë¥¸ OCRë„ ê°™ì€ ë¬¸ì œ ê²ªì„ ê°€ëŠ¥ì„± ë†’ìŒ<br>
                    â†’ ë°˜ë©´ ë³´ì™„ ë¡œì§ì€ í™•ì‹¤í•œ ê°œì„  ë³´ì¥
                </p>
            </div>
        </div>

        <!-- Option C: í•˜ì´ë¸Œë¦¬ë“œ -->
        <div class="section">
            <h2>ğŸ”€ Option C: í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼</h2>

            <h3>ì „ëµ: ì—¬ëŸ¬ OCR ê²°ê³¼ + LLM ì•™ìƒë¸”</h3>

            <div class="code-block">
// 1. ì—¬ëŸ¬ OCR ì—”ì§„ìœ¼ë¡œ ë³‘ë ¬ ì²˜ë¦¬
const results = await Promise.all([
    gcsVisionOCR(imagePath),        // í˜„ì¬ ì‚¬ìš© ì¤‘
    awsTextractOCR(imagePath),      // í‘œ êµ¬ì¡° íŠ¹í™”
    azureDocumentOCR(imagePath)     // ë ˆì´ì•„ì›ƒ ë¶„ì„
]);

// 2. ë‚ ì§œ ì¶”ì¶œ (ê° OCR ê²°ê³¼ì—ì„œ)
const gcsDate = extractDates(results[0]);
const textractDates = extractDates(results[1]);
const azureDates = extractDates(results[2]);

// 3. í•©ì§‘í•© ìƒì„±
const allDates = new Set([
    ...gcsDates,
    ...textractDates,
    ...azureDates
]);

// 4. LLMìœ¼ë¡œ ê²€ì¦ ë° ì„ ë³„
const llmPrompt = `
ë‹¤ìŒì€ 3ê°œ OCR ì—”ì§„ì´ ì¶”ì¶œí•œ ë‚ ì§œì…ë‹ˆë‹¤:
${Array.from(allDates).join(', ')}

ì˜ë£Œë³´í—˜ ë³´ê³ ì„œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‹¤ì œ ì˜ë¯¸ ìˆëŠ” ë‚ ì§œë§Œ ì„ ë³„í•˜ì„¸ìš”:
- ë³´í—˜ ê³„ì•½/ê°€ì… ê´€ë ¨ ë‚ ì§œ
- ì˜ë£Œ ì´ë²¤íŠ¸ ë‚ ì§œ
- ëª…ë°±í•œ ì˜¤ë¥˜ëŠ” ì œì™¸ (í˜ì´ì§€ ë²ˆí˜¸, í—¤ë” ë“±)

ì›ë³¸ í…ìŠ¤íŠ¸:
${mergedText}
`;

const validDates = await llmValidation(llmPrompt);
            </div>

            <div class="cost-breakdown">
                <h4 style="margin-bottom: 15px; color: #1e40af;">ğŸ’° ë¹„ìš© ë¶„ì„ (50ì¼€ì´ìŠ¤ ê¸°ì¤€)</h4>
                <div class="cost-item">
                    <span>GCS Vision (í˜„ì¬)</span>
                    <span>$0 (ì´ë¯¸ ì²˜ë¦¬ë¨)</span>
                </div>
                <div class="cost-item">
                    <span>AWS Textract ì¶”ê°€</span>
                    <span>~$3.75</span>
                </div>
                <div class="cost-item">
                    <span>Azure Document Intelligence ì¶”ê°€</span>
                    <span>~$2.50</span>
                </div>
                <div class="cost-item">
                    <span>LLM ê²€ì¦ (gpt-4o-mini)</span>
                    <span>~$1.50</span>
                </div>
                <div class="cost-item">
                    <span><strong>ì´ ì¶”ê°€ ë¹„ìš©</strong></span>
                    <span><strong>~$7.75</strong></span>
                </div>
            </div>

            <div class="pros-cons">
                <div class="pros">
                    <h4>âœ… ì¥ì </h4>
                    <ul>
                        <li>ìµœê³  ì •í™•ë„ ì˜ˆìƒ (90%+)</li>
                        <li>ê° OCRì˜ ì¥ì  í™œìš©</li>
                        <li>ëˆ„ë½ ê°€ëŠ¥ì„± ìµœì†Œí™”</li>
                        <li>ë¡œë²„ìŠ¤íŠ¸í•œ ì‹œìŠ¤í…œ</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>âŒ ë‹¨ì </h4>
                    <ul>
                        <li>ë¹„ìš© ì¦ê°€ ($7.75)</li>
                        <li>ë³µì¡ë„ ì¦ê°€ (3ê°œ OCR ê´€ë¦¬)</li>
                        <li>ì‘ë‹µ ì‹œê°„ ëŠë¦¼ (ë³‘ë ¬ ì²˜ë¦¬í•´ë„ 5-10ì´ˆ)</li>
                        <li>êµ¬í˜„ ì‹œê°„ 2ì£¼</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Option D: Vision LLM -->
        <div class="section">
            <h2>ğŸ‘ï¸ Option D: Vision LLM ì§ì ‘ ì‚¬ìš©</h2>

            <p style="margin-bottom: 20px;">
                <strong>ì•„ì´ë””ì–´:</strong> OCR ì—†ì´ GPT-4 Vision / Gemini Pro Vision / Claude Visionì´ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ë³´ê³  ë‚ ì§œ ì¶”ì¶œ
            </p>

            <div class="code-block">
// ì´ë¯¸ì§€ë¥¼ Vision LLMì— ì§ì ‘ ì „ë‹¬
const visionPrompt = `
ì´ ì˜ë£Œë³´í—˜ ì†í•´ì‚¬ì • ë³´ê³ ì„œ ì´ë¯¸ì§€ì—ì„œ ëª¨ë“  ì¤‘ìš”í•œ ë‚ ì§œë¥¼ ì¶”ì¶œí•˜ì„¸ìš”.

íŠ¹íˆ ë‹¤ìŒ ì •ë³´ì— ì£¼ëª©:
1. ë³´í—˜ ê³„ì•½ì¼/ê°€ì…ì¼
2. ë³´í—˜ ê¸°ê°„ (ì‹œì‘ì¼, ì¢…ë£Œì¼) - í‘œ ì•ˆì˜ ë‚ ì§œë„ ë¹ ì§ì—†ì´
3. ì‚¬ê³  ë°œìƒì¼
4. ë³‘ì› ë‚´ì›ì¼/ì…ì›ì¼/í‡´ì›ì¼

í‘œ êµ¬ì¡° ì•ˆì˜ ë‚ ì§œë„ ì •í™•íˆ ì¸ì‹í•˜ì„¸ìš”.
ë‚ ì§œ í˜•ì‹: YYYY-MM-DD

JSON:
{
  "dates": [
    {"date": "2024-05-01", "type": "ë³´í—˜_ì‹œì‘ì¼", "location": "í‘œ 1í–‰ 2ì—´"},
    ...
  ]
}
`;

const response = await openai.chat.completions.create({
    model: "gpt-4o",  // Vision ì§€ì› ëª¨ë¸
    messages: [
        {
            role: "user",
            content: [
                { type: "text", text: visionPrompt },
                { type: "image_url", image_url: { url: imageBase64 } }
            ]
        }
    ]
});
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Vision LLM</th>
                        <th>ë¹„ìš© (/image)</th>
                        <th>ì¥ì </th>
                        <th>ë‹¨ì </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>GPT-4o Vision</strong></td>
                        <td>~$0.05<br>(50ì¼€ì´ìŠ¤ = $2.50)</td>
                        <td>
                            â€¢ í‘œ êµ¬ì¡° ì´í•´ ëŠ¥ë ¥<br>
                            â€¢ ë¬¸ë§¥ ê¸°ë°˜ ì„ ë³„<br>
                            â€¢ í•œêµ­ì–´ ì§€ì› ìš°ìˆ˜
                        </td>
                        <td>
                            â€¢ ë¹„ìš© ë†’ìŒ<br>
                            â€¢ ì‘ë‹µ ì‹œê°„ ëŠë¦¼ (5-10ì´ˆ)<br>
                            â€¢ Rate limit
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Gemini Pro Vision</strong></td>
                        <td>~$0.02<br>(50ì¼€ì´ìŠ¤ = $1.00)</td>
                        <td>
                            â€¢ ì €ë ´<br>
                            â€¢ ë¹ ë¦„<br>
                            â€¢ ë¬´ë£Œ í‹°ì–´
                        </td>
                        <td>
                            â€¢ ì •í™•ë„ ì•½ê°„ ë‚®ì„ ìˆ˜ ìˆìŒ<br>
                            â€¢ í•œêµ­ì–´ í‘œ êµ¬ì¡° ì²˜ë¦¬ ë¶ˆí™•ì‹¤
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Claude 3.5 Sonnet Vision</strong></td>
                        <td>~$0.04<br>(50ì¼€ì´ìŠ¤ = $2.00)</td>
                        <td>
                            â€¢ ì •í™•ë„ ë†’ìŒ<br>
                            â€¢ ë³µì¡í•œ ë ˆì´ì•„ì›ƒ ì²˜ë¦¬<br>
                            â€¢ í•œêµ­ì–´ ì§€ì›
                        </td>
                        <td>
                            â€¢ ë¹„ìš© ì¤‘ê°„<br>
                            â€¢ ì‘ë‹µ ì‹œê°„ ëŠë¦¼
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="highlight-box">
                <h4>ğŸ’¡ Vision LLMì˜ í•µì‹¬ ì´ì </h4>
                <p style="line-height: 1.8; color: #92400e;">
                    1. <strong>í‘œ êµ¬ì¡° ì´í•´</strong>: "ë³´ í—˜ ê¸° ê°„" ì²˜ëŸ¼ ê¸€ì ê°„ ê³µë°±ì´ ìˆì–´ë„ ë§¥ë½ìœ¼ë¡œ ì´í•´<br>
                    2. <strong>ì‹œë§¨í‹± ì„ ë³„</strong>: í˜ì´ì§€ ë²ˆí˜¸/í—¤ë”ë¥¼ ë‚ ì§œë¡œ ì˜¤ì¸í•˜ì§€ ì•ŠìŒ<br>
                    3. <strong>OCR + í•´ì„ ë™ì‹œ</strong>: OCR â†’ ë‚ ì§œ ì¶”ì¶œì„ í•œ ë²ˆì— ì²˜ë¦¬<br>
                    4. <strong>ê²€ì¦ëœ íš¨ê³¼</strong>: ì—¬ëŸ¬ ì‚¬ë¡€ì—ì„œ 90%+ ì •í™•ë„ ë‹¬ì„±
                </p>
            </div>
        </div>

        <!-- ìµœì¢… ê¶Œì¥ì‚¬í•­ -->
        <div class="recommendation">
            <h3>ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­</h3>

            <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <h4 style="color: #374151; margin-bottom: 15px;">ğŸ“ ë‹¨ê³„ë³„ ì ‘ê·¼ (ì ì§„ì  ê°œì„ )</h4>

                <div style="margin: 15px 0; padding: 15px; background: #f0fdf4; border-left: 4px solid #10b981; border-radius: 4px;">
                    <strong style="color: #065f46;">Phase 1 (ì¦‰ì‹œ ì‹œì‘): Option A - ë³´ì™„ ë¡œì§</strong>
                    <ul style="margin: 10px 0 0 20px; color: #047857;">
                        <li>ë¹„ìš©: $0</li>
                        <li>ì‹œê°„: 2-3ì¼</li>
                        <li>íš¨ê³¼: 61.7% â†’ 85%+</li>
                        <li><strong>ROI: ìµœê³  â­â­â­â­â­</strong></li>
                    </ul>
                </div>

                <div style="margin: 15px 0; padding: 15px; background: #eff6ff; border-left: 4px solid #2563eb; border-radius: 4px;">
                    <strong style="color: #1e40af;">Phase 2 (1ê°œì›” í›„): íš¨ê³¼ ì¸¡ì • â†’ í•„ìš”ì‹œ Option D ì¶”ê°€</strong>
                    <ul style="margin: 10px 0 0 20px; color: #1e3a8a;">
                        <li>Phase 1 ê²°ê³¼ê°€ 85% ë¯¸ë§Œì´ë©´: Vision LLM ì‹œë„</li>
                        <li>ì¶”ê°€ ë¹„ìš©: $1-2.50 (50ì¼€ì´ìŠ¤)</li>
                        <li>ì˜ˆìƒ íš¨ê³¼: 85% â†’ 90-95%</li>
                        <li><strong>ROI: ë†’ìŒ â­â­â­â­</strong></li>
                    </ul>
                </div>

                <div style="margin: 15px 0; padding: 15px; background: #fef3c7; border-left: 4px solid #f59e0b; border-radius: 4px;">
                    <strong style="color: #92400e;">Phase 3 (3ê°œì›” í›„): Option C - í•˜ì´ë¸Œë¦¬ë“œ (ì„ íƒ)</strong>
                    <ul style="margin: 10px 0 0 20px; color: #92400e;">
                        <li>95%+ ì •í™•ë„ í•„ìš” ì‹œë§Œ ê³ ë ¤</li>
                        <li>ì¶”ê°€ ë¹„ìš©: $7.75</li>
                        <li>í”„ë¡œë•ì…˜ ë°°í¬ í›„ ê³ ë ¤</li>
                        <li><strong>ROI: ì¤‘ê°„ â­â­â­</strong></li>
                    </ul>
                </div>
            </div>

            <p style="font-size: 18px; line-height: 1.8; margin-top: 20px;">
                <strong>ê²°ë¡ :</strong><br>
                1ï¸âƒ£ <strong>ì§€ê¸ˆ ë‹¹ì¥</strong> Option A (ë³´ì™„ ë¡œì§) êµ¬í˜„ ì‹œì‘<br>
                2ï¸âƒ£ <strong>2-3ì¼ í›„</strong> 28ì¼€ì´ìŠ¤ ì¬ê²€ì¦í•˜ì—¬ íš¨ê³¼ ì¸¡ì •<br>
                3ï¸âƒ£ <strong>85% ë‹¬ì„± ì‹œ</strong> Quick Win ì™„ë£Œ, Phase 2ë¡œ ì´ë™<br>
                4ï¸âƒ£ <strong>ë¯¸ë‹¬ ì‹œ</strong> Option D (Vision LLM) ì¶”ê°€ ê²€í† <br>
                <br>
                âœ… ì´ ì ‘ê·¼ì´ <strong>ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼ê°€ ê°€ì¥ ë†’ê³ </strong>, <strong>ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥</strong>í•˜ë©°, <strong>ë¦¬ìŠ¤í¬ê°€ ë‚®ìŠµë‹ˆë‹¤</strong>.
            </p>
        </div>

        <!-- ë‹¤ìŒ ë‹¨ê³„ -->
        <div class="section">
            <h2>ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„ (Action Items)</h2>

            <div style="background: #f0fdf4; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <h4 style="color: #065f46; margin-bottom: 15px;">âœ… ì¦‰ì‹œ ì‹¤í–‰ (ì˜¤ëŠ˜ë¶€í„°)</h4>
                <ol style="margin-left: 20px; color: #047857; line-height: 2;">
                    <li><strong>LLM ë‚ ì§œ ë³´ì™„ ë¡œì§ êµ¬í˜„</strong> (3-4ì‹œê°„)
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>OCR ë¸”ë¡ ë³‘í•© í•¨ìˆ˜</li>
                            <li>LLM í”„ë¡¬í”„íŠ¸ ì‘ì„±</li>
                            <li>ë‚ ì§œ ë³‘í•© ë¡œì§</li>
                        </ul>
                    </li>
                    <li><strong>ë‚ ì§œ ì •ê·œí™” ê°•í™”</strong> (2ì‹œê°„)
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>ì /ìŠ¬ë˜ì‹œ í¬ë§· ì§€ì›</li>
                            <li>ìœ íš¨ì„± ê²€ì¦ ì¶”ê°€</li>
                        </ul>
                    </li>
                    <li><strong>28ì¼€ì´ìŠ¤ ì¬ê²€ì¦</strong> (1ì‹œê°„)
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>Quick validation ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</li>
                            <li>ê²°ê³¼ ë¹„êµ (before/after)</li>
                        </ul>
                    </li>
                    <li><strong>HTML ë³´ê³ ì„œ ìƒì„±</strong> (1ì‹œê°„)
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>ê°œì„  íš¨ê³¼ ì‹œê°í™”</li>
                            <li>ì¼€ì´ìŠ¤ë³„ ìƒì„¸ ë¶„ì„</li>
                        </ul>
                    </li>
                </ol>
                <p style="margin-top: 15px; font-weight: 600; color: #065f46;">
                    ì´ ì†Œìš” ì‹œê°„: <strong>1ì¼ (7-8ì‹œê°„)</strong><br>
                    ì˜ˆìƒ ì™„ë£Œ: <strong>ë‚´ì¼ ì˜¤í›„</strong>
                </p>
            </div>

            <div style="background: #eff6ff; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <h4 style="color: #1e40af; margin-bottom: 15px;">ğŸ” íš¨ê³¼ ì¸¡ì • (ë‚´ì¼)</h4>
                <ol style="margin-left: 20px; color: #1e3a8a; line-height: 2;">
                    <li>í‰ê·  ì •í™•ë„ê°€ 85% ì´ìƒì¸ê°€?</li>
                    <li>í•˜ ë“±ê¸‰ì´ 0-1ê°œë¡œ ê°ì†Œí–ˆëŠ”ê°€?</li>
                    <li>ëˆ„ë½ë¥ ì´ 15% ì´í•˜ë¡œ ê°œì„ ë˜ì—ˆëŠ”ê°€?</li>
                </ol>
                <p style="margin-top: 15px; font-weight: 600; color: #1e40af;">
                    âœ… Yes â†’ Quick Win ì„±ê³µ, Phase 2ë¡œ ì´ë™<br>
                    âŒ No â†’ Vision LLM (Option D) ì¶”ê°€ ê²€í† 
                </p>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; padding: 30px; color: var(--gray); font-size: 14px; border-top: 2px solid var(--border); margin-top: 40px;">
            <p>Generated on 2026-01-18 | VNEXSUS OCR Performance Analysis</p>
            <p style="margin-top: 10px; font-size: 12px;">
                ğŸ“„ ë³´ê³ ì„œ ê²½ë¡œ: <code>/home/user/VNEXSUS-25-12-30/outputs/ocr-improvement-strategy.html</code>
            </p>
        </div>
    </div>
</body>
</html>
