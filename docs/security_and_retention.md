# VNEXSUS 보안 및 데이터 보존 정책

**작성일**: 2025-11-29  
**버전**: 1.0

---

## 1. 개인정보 처리 방침

### 1.1 개인정보 마스킹

VNEXSUS는 의료 기록 분석 시 개인정보 보호를 위해 다음과 같은 마스킹 정책을 적용합니다:

#### 마스킹 대상
- **주민등록번호**: `YYMMDD-*******` 형태로 마스킹
- **전화번호**: `010-****-XXXX` 형태로 중간 번호 마스킹
- **이메일**: `ab***@example.com` 형태로 사용자명 일부 마스킹
- **이름**: `홍*동` 형태로 가운데 글자 마스킹 (옵션)

#### 적용 방법
```javascript
// 리포트 생성 시 maskPII 옵션 활성화
reportBuilder.buildReport(events, patientInfo, {
    maskPII: true,
    format: 'text'
});
```

### 1.2 로그 관리 원칙

**원칙**: 운영 로그에 원문 전체를 남기지 않음

- 이벤트 ID + SourceSpan Preview만 로그에 기록
- 원문은 별도 암호화된 저장소에 보관 (운영 환경)
- 디버그 로그는 개발 환경에서만 활성화

---

## 2. 데이터 저장 및 보존 정책

### 2.1 저장 구조

```
VNEXSUS_11-23/
├── reports/              # 생성된 리포트 (마스킹 적용)
│   ├── report_*.txt
│   ├── report_*.json
│   └── report_*.xlsx
├── backend/eval/output/  # 검증 결과 및 대시보드
│   └── dashboard.html
└── logs/                 # 시스템 로그 (원문 미포함)
```

### 2.2 보존 기간

| 데이터 유형 | 보존 기간 | 파기 방법 |
|------------|----------|----------|
| 생성 리포트 | 30일 | 자동 삭제 (스케줄러) |
| 검증 결과 | 90일 | 수동 삭제 |
| 시스템 로그 | 7일 | 자동 삭제 |
| 원본 의료 기록 | 고객사 정책 준수 | 암호화 삭제 |

### 2.3 파기 절차

1. **자동 파기**: 보존 기간 만료 시 시스템이 자동으로 파일 삭제
2. **수동 파기**: 관리자가 명시적으로 삭제 명령 실행
3. **안전 삭제**: 파일 삭제 후 디스크 공간 덮어쓰기 (운영 환경)

---

## 3. 접근 제어

### 3.1 권한 관리

- **개발자**: 개발 환경에서만 원문 접근 가능
- **운영자**: 마스킹된 리포트만 접근 가능
- **감사자**: 읽기 전용 접근 (로그 조회)

### 3.2 감사 로그

모든 데이터 접근 및 수정 이력을 감사 로그에 기록:
- 접근 시간
- 사용자 ID
- 접근한 파일/데이터
- 수행한 작업

---

## 4. 보안 사고 대응

### 4.1 사고 유형

- 개인정보 유출
- 무단 접근
- 데이터 손실

### 4.2 대응 절차

1. **즉시 조치**: 시스템 격리 및 접근 차단
2. **영향 분석**: 유출 범위 및 피해 규모 파악
3. **복구**: 백업으로부터 데이터 복원
4. **보고**: 관련 기관 및 고객사에 통보
5. **재발 방지**: 보안 정책 개선

---

## 5. 준수 사항

- **개인정보보호법** (한국)
- **의료법** (의료 정보 보호)
- **정보통신망법**
- 고객사 보안 정책

---

**문의**: VNEXSUS 개발팀  
**최종 검토**: 2025-11-29
